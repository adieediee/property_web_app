@page "/tenant-dashboard"
@using PropertyWebApp.Models.Services
@inject TenantDashboardViewModel ViewModel
@inject UserStateService UserStateService
@layout Layout.PrenajimatelLayout

<section class="container px-4 mx-auto">
    <div class="flex items-center gap-x-3">
        <h2 class="text-lg font-medium text-gray-800 dark:text-white">Prenajímateľský Dashboard</h2>
    </div>

    <!-- Search Bar -->
    <div class="mt-6">
        <input type="text" placeholder="Vyhľadaj..." class="w-full px-4 py-2 text-sm text-gray-700 bg-white border rounded-md dark:bg-gray-900 dark:text-gray-300 dark:border-gray-700 dark:placeholder-gray-500">
    </div>

    <!-- Dashboard Cards -->
    <div class="grid grid-cols-1 mt-6 gap-6 md:grid-cols-2 lg:grid-cols-4">
        <div class="p-4 bg-white border rounded-md shadow-sm dark:bg-gray-800 dark:border-gray-700">
            <h3 class="text-sm font-medium text-gray-700 dark:text-gray-400">Príjem</h3>
            <p class="text-xl font-semibold text-gray-800 dark:text-white">119,234.01 €</p>
            <span class="text-sm text-green-500">3.1% oproti minulému mesiacu</span>
            <button class="mt-4 text-sm text-blue-500 hover:underline">Zobraz report</button>
        </div>
        <div class="p-4 bg-white border rounded-md shadow-sm dark:bg-gray-800 dark:border-gray-700">
            <h3 class="text-sm font-medium text-gray-700 dark:text-gray-400">Výsledok</h3>
            <p class="text-xl font-semibold text-gray-800 dark:text-white">$524,039</p>
            <span class="text-sm text-green-500">11% oproti minulému mesiacu</span>
            <button class="mt-4 text-sm text-blue-500 hover:underline">Zobraz report</button>
        </div>
        <div class="p-4 bg-white border rounded-md shadow-sm dark:bg-gray-800 dark:border-gray-700">
            <h3 class="text-sm font-medium text-gray-700 dark:text-gray-400">Výdavky na energie</h3>
            <p class="text-xl font-semibold text-gray-800 dark:text-white">234,200 €</p>
            <span class="text-sm text-red-500">2.3% oproti minulému mesiacu</span>
            <button class="mt-4 text-sm text-blue-500 hover:underline">Zobraz report</button>
        </div>
        <div class="p-4 bg-white border rounded-md shadow-sm dark:bg-gray-800 dark:border-gray-700">
            <h3 class="text-sm font-medium text-gray-700 dark:text-gray-400">Všetky nehnuteľnosti</h3>
            <p class="text-xl font-semibold text-gray-800 dark:text-white">1,200</p>
            <span class="text-sm text-green-500">0.5% oproti minulému mesiacu</span>
            <button class="mt-4 text-sm text-blue-500 hover:underline">Zobraz report</button>
        </div>
    </div>

    <!-- Property List -->
    <div class="mt-8">
        <h3 class="text-lg font-medium text-gray-800 dark:text-white">Nehnuteľnosti</h3>
        <div class="grid grid-cols-1 gap-6 mt-4 sm:grid-cols-2 lg:grid-cols-3">
            <div class="p-4 bg-white border rounded-md shadow-sm dark:bg-gray-800 dark:border-gray-700">
                <img src="img/property1.jpg" alt="Elite Heights Rezidencia" class="w-full h-40 rounded-md">
                <h4 class="mt-2 text-sm font-medium text-gray-700 dark:text-gray-400">Elite Heights Rezidencia</h4>
                <p class="text-sm text-gray-500 dark:text-gray-300">Janka Kráľa, Námestovo</p>
                <p class="mt-2 text-sm text-gray-800 dark:text-white">$3,700</p>
                <button class="mt-4 text-sm text-blue-500 hover:underline">Uprav Nehnuteľnosť</button>
            </div>
            <!-- Repeat for other properties -->
        </div>
    </div>

    <!-- Calendar -->
    <div class="mt-8">
        <h3 class="text-lg font-medium text-gray-800 dark:text-white">Kalendár</h3>
        <div class="p-4 bg-white border rounded-md shadow-sm dark:bg-gray-800 dark:border-gray-700">
            <!-- TODO: Implementácia kalendára -->
            <p class="text-sm text-gray-500 dark:text-gray-300">Kalendár ešte nie je dostupný.</p>
        </div>
    </div>

    <!-- Graph Section -->
    <div class="mt-8">
        <h3 class="text-lg font-medium text-gray-800 dark:text-white">Grafy nehnuteľností</h3>
        <div class="p-4 bg-white border rounded-md shadow-sm dark:bg-gray-800 dark:border-gray-700">
            <p class="text-sm text-gray-500 dark:text-gray-300">Zatiaľ tu nič nie je.</p>
        </div>
    </div>
</section>

@code {
    protected override async Task OnInitializedAsync()
    {
        await ViewModel.LoadDataAsync(UserStateService.Id);
    }
}